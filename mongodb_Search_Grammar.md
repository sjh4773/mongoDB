# mongoDB

## 데이터 분석을 위한 다양한 몽고DB 검색 문법

- 방대한 데이터 세트 내에서 필요로 하는 데이터를 추출함으로써 데이터를 분석하고 그 안에서 인사이트를 도출하는 과정에서 필요한 문법 공부



            input:
            from bs4 import BeautifulSoup
            import requests
            import pymongo
            import re
            
            conn = pymongo.MongoClient()
            actor_db = conn.cine21 # cine21이라는 데이터베이스를 만듬
            actor_collection = actor_db.actor_collection # actor_collection이라는 collection을 만듬
            
            # 한개의 document 출력
            actor_collection.find_one({})
            
            # 세개의 dccument 출력
            docs = actor_collection.find({}).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4d'), '배우이름': '조우진', '흥행지수': 255195, '출연영화': ['발신제한', '국가부도의 날'], '랭킹': '1', '다른 이름': '조신제', '직업': '배우', '생년월일': '1979-01-16', '성별': '남'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4e'), '배우이름': '지창욱', '흥행지수': 204193, '출연영화': ['발신제한', '너의 이름은.', '조작된 도시'], '랭킹': '2', '직업': '배우', '생년월일': '1987-07-05', '성별': '남', '홈페이지': '\nhttps://twitter.com/jichangwook\nhttps://www.instagram.com/jichangwook/\n', '신장/체중': '180cm, 65kg', '학교': '단국대학교 공연영상학부', '특기': '노래, 유도, 수영', '소속사': '(주)글로리어스'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4f'), '배우이름': '진경', '흥행지수': 153115, '출연영화': ['발신제한'], '랭킹': '3', '직업': '배우', '생년월일': '1972-03-27', '성별': '여'}
        

### 컬럼명 변경
- 저장되어있는 mongodb 데이터의 컬럼명을 변경하는 방법
- update_one() / update_many() 함수 활용

'다른 이름' 이라는 필드가 없는 필드는 해당 필드가 없기 때문에 수정이 되지 않으며, 해당 필드가 존재하는 필드만 '다른이름'으로 필드명이 변경된다.




            input:
            actor_collection.update_many( {}, { '$rename': {'다른 이름' : '다른이름'} } )
            
            docs = actor_collection.find({}).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4d'), '배우이름': '조우진', '흥행지수': 255195, '출연영화': ['발신제한', '국가부도의 날'], '랭킹': '1', '직업': '배우', '생년월일': '1979-01-16', '성별': '남', '다른이름': '조신제'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4e'), '배우이름': '지창욱', '흥행지수': 204193, '출연영화': ['발신제한', '너의 이름은.', '조작된 도시'], '랭킹': '2', '직업': '배우', '생년월일': '1987-07-05', '성별': '남', '홈페이지': '\nhttps://twitter.com/jichangwook\nhttps://www.instagram.com/jichangwook/\n', '신장/체중': '180cm, 65kg', '학교': '단국대학교 공연영상학부', '특기': '노래, 유도, 수영', '소속사': '(주)글로리어스'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4f'), '배우이름': '진경', '흥행지수': 153115, '출연영화': ['발신제한'], '랭킹': '3', '직업': '배우', '생년월일': '1972-03-27', '성별': '여'}



### find의 다양한 문법 - sort

- 생년월일이 가장 어린 사람들부터 나열
- 생년월일이 없는 사람들은 제외하고 출력
- pymongo.ASCENDING : default option



            input:
            docs = actor_collection.find({}).sort('생년월일',pymongo.DESCENDING).limit(10)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bdd1'), '배우이름': '정서연', '흥행지수': 22, '출연영화': ['내겐 너무 소중한 너'], '랭킹': '133', '직업': '배우', '생년월일': '2014-02-02', '성별': '여', '홈페이지': '\nhttps://www.instagram.com/seoyeon_mother/\n'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd99'), '배우이름': '고나희', '흥행지수': 79, '출연영화': ['기방도령'], '랭킹': '77', '직업': '배우', '생년월일': '2009-08-17', '성별': '여', '홈페이지': '\nhttps://www.instagram.com/gonahyimam/\n'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bdd0'), '배우이름': '이레', '흥행지수': 22, '출연영화': ['너의 이름은.'], '랭킹': '132', '직업': '배우', '생년월일': '2006-03-12', '성별': '여', '홈페이지': '\nhttps://www.facebook.com/leere.vv/\n'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd50'), '배우이름': '이재인', '흥행지수': 102081, '출연영화': ['발신제한', '아이 캔 스피크'], '랭킹': '4', '직업': '배우', '생년월일': '2004-02-06', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bdc2'), '배우이름': '신은수', '흥행지수': 32, '출연영화': ['기방도령'], '랭킹': '118', '직업': '배우', '생년월일': '2002-10-23', '성별': '여', '홈페이지': '\nhttp://www.vlive.tv/channels/D5353F\n'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd74'), '배우이름': '손영주', '흥행지수': 649, '출연영화': ['열아홉'], '랭킹': '40', '직업': '배우', '생년월일': '2001-03-21', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd6e'), '배우이름': '김현수', '흥행지수': 1076, '출연영화': ['여고괴담 여섯번째 이야기: 모교'], '랭킹': '34', '직업': '배우', '생년월일': '2000-06-23', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bdcc'), '배우이름': '조이현', '흥행지수': 23, '출연영화': ['기방도령'], '랭킹': '128', '직업': '배우', '생년월일': '1999-12-08', '성별': '여', '홈페이지': '\nhttp://www.artistcompany.co.kr/portfolio-item/cho-yi-hyun/\n', '소속사': '아티스트컴퍼니'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bdca'), '배우이름': '김소현', '흥행지수': 25, '출연영화': ['너의 이름은.'], '랭킹': '126', '직업': '배우', '생년월일': '1999-06-04', '성별': '여', '홈페이지': '\nhttps://www.instagram.com/wow_kimsohyun/\nhttps://twitter.com/hellokimsohyun\n'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd7d'), '배우이름': '김형서', '흥행지수': 359, '출연영화': ['여고괴담 여섯번째 이야기: 모교'], '랭킹': '49', '직업': '배우', '생년월일': '1998-09-27', '성별': '여', '다른이름': '비비'}


### find의 다양한 문법 - exists
- 특정 필드가 있는 데이터만 추출
-  $exists
 
    
            # 특기가 있는 배우들 중에 흥행지수를 기준으로 오름차순 정렬 + document 5개로 제한
            input:
            docs = actor_collection.find( { '특기': {'$exists' : True } } ).sort('흥행지수').limit(5)
            for doc in docs:
                print(doc)


            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bdc9'), '배우이름': '진구', '흥행지수': 27, '출연영화': ['내겐 너무 소중한 너'], '랭킹': '125', '직업': '배우', '생년월일': '1980-07-20', '성별': '남', '홈페이지': '\nhttps://www.facebook.com/official.jingoo\n', '신장/체중': '178cm, 63kg', '학교': '삼육의명대학 광고정보', '취미': '헬스, 포토샵', '특기': '컴퓨터 그래픽, 웅변'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bdb2'), '배우이름': '이제훈', '흥행지수': 41, '출연영화': ['아이 캔 스피크'], '랭킹': '102', '직업': '배우', '생년월일': '1984-07-04', '성별': '남', '홈페이지': '\nhttps://www.facebook.com/saram.leejehoon\n', '신장/체중': '176cm', '학교': '한국예술종합학교 연극원 연기과', '특기': '댄스, 노래, 무술', '소속사': '㈜사람엔터테인먼트'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd97'), '배우이름': '권오중', '흥행지수': 97, '출연영화': ['부활: 그 증거'], '랭킹': '75', '직업': '배우', '생년월일': '1971-11-24', '성별': '남', '신장/체중': '181cm, 75kg', '학교': '홍익대 금속공학 - 서울사이버대 사회복지학', '취미': '영화 감상', '특기': '쿵후 3단, 춤'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd90'), '배우이름': '준호', '흥행지수': 119, '출연영화': ['기방도령'], '랭킹': '68', '직업': '가수', '생년월일': '1990-01-25', '성별': '남', '홈페이지': '\nhttps://www.instagram.com/le2jh/\nhttps://twitter.com/dlwnsghek\n', '신장/체중': '178cm, 67kg', '학교': '호원대학교', '취미': '음악감상, 춤동영상보기, 작곡공부, 독서하기', '특기': '비트박스, 춤, 노래', '소속사': 'JYP엔터테인먼트', '다른이름': '이준호; 2pm; 투피엠'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd8d'), '배우이름': '예지원', '흥행지수': 137, '출연영화': ['기방도령', '인트로덕션'], '랭킹': '65', '직업': '배우', '생년월일': '1973-02-01', '성별': '여', '홈페이지': '\nhttps://twitter.com/yehjiwon\n', '신장/체중': '165cm, 45kg', '학교': '서울예술대학 방송연예', '취미': '요가', '특기': '재즈발레, 한국무용', '다른이름': '이유정'}



            #  생년월일이 없는 배우들 중 배우이름만 출력
            input:
            docs = actor_collection.find( { '생년월일' : { '$exists' : False } } , { '배우이름' : 1, '_id' : 0 } )
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '박훈'}
            {'배우이름': '송유현'}
            {'배우이름': '이은자'}
            {'배우이름': '이석형'}
            {'배우이름': '정난모'}
            {'배우이름': '양정원'}
            {'배우이름': '조부용'}
            {'배우이름': '원현준'}
            {'배우이름': '키라'}
            {'배우이름': '장민희'}
            {'배우이름': '짜투리'}
            {'배우이름': '어라'}
            {'배우이름': '정태성'}
            {'배우이름': '김남연'}
            {'배우이름': '문승아'}
            {'배우이름': '오매'}
            {'배우이름': '최준우'}
            {'배우이름': '정지후'}
            {'배우이름': '흐른'}
            {'배우이름': '정인섭'}
            {'배우이름': '김우겸'}
            {'배우이름': '김채원'}
            {'배우이름': '신유진'}
            {'배우이름': '오하나'}
            {'배우이름': '이용규'}
            {'배우이름': '김영호'}
            {'배우이름': '김수덕'}
            {'배우이름': '김유림'}
            {'배우이름': '강은애'}
            {'배우이름': '우진아'}
            {'배우이름': '안태형'}
            {'배우이름': '김순규'}
            {'배우이름': '김서영'}
            {'배우이름': '김소진'}
            {'배우이름': '임재춘'}
            {'배우이름': '천정은'}


### find의 다양한 문법 - 필드값 범위로 검색
- 흥행지수가 10000이상이고 출연영화가 '발신제한'인 배우들의 이름과 출연영화 출력 + 가,나,다 순으로 배우이름 정렬 + 3개로 제한


            input:
            docs = actor_collection.find( { '흥행지수': { '$gte' : 10000 }, '출연영화' : '발신제한' }, {'배우이름' : 1, '출연영화' : 1, '_id' : 0} ).sort('배우이름').limit(3)
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '김지호', '출연영화': ['발신제한']}
            {'배우이름': '이재인', '출연영화': ['발신제한', '아이 캔 스피크']}
            {'배우이름': '조우진', '출연영화': ['발신제한', '국가부도의 날']}


### find의 다양한 문법 - or


            # 출연영화가 '발신제한' 또는 '국가부도의 날'인 배우들의 이름과 출연영화 데이터 출력
            input:
            docs = actor_collection.find( { '$or' : [ {'출연영화':'발신제한'}, {'출연영화':'국가부도의 날'} ] }, {'배우이름' : 1, '출연영화' : 1, '_id' : 0} ).sort('배우이름')
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '김지호', '출연영화': ['발신제한']}
            {'배우이름': '김홍파', '출연영화': ['괴기맨숀', '배심원들', '국가부도의 날']}
            {'배우이름': '염혜란', '출연영화': ['아이 캔 스피크', '국가부도의 날']}
            {'배우이름': '염혜란', '출연영화': ['아이 캔 스피크', '국가부도의 날']}
            {'배우이름': '이재인', '출연영화': ['발신제한', '아이 캔 스피크']}
            {'배우이름': '조우진', '출연영화': ['발신제한', '국가부도의 날']}
            {'배우이름': '지창욱', '출연영화': ['발신제한', '너의 이름은.', '조작된 도시']}
            {'배우이름': '진경', '출연영화': ['발신제한']}
            
            # 흥행지수가 10000이상이며 출연영화가 '발신제한' 또는 '국가부도의 날'인 배우들의 이름과 출연영화 데이터 출력
            input:
            docs = actor_collection.find( { '흥행지수' : { '$gte' : 10000 }, '$or' : [ {'출연영화':'발신제한'}, {'출연영화':'국가부도의 날'} ] }, {'배우이름' : 1, '출연영화' : 1, '_id' : 0} ).sort('배우이름')
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '김지호', '출연영화': ['발신제한']}
            {'배우이름': '이재인', '출연영화': ['발신제한', '아이 캔 스피크']}
            {'배우이름': '조우진', '출연영화': ['발신제한', '국가부도의 날']}
            {'배우이름': '지창욱', '출연영화': ['발신제한', '너의 이름은.', '조작된 도시']}
            {'배우이름': '진경', '출연영화': ['발신제한']}


### find의 다양한 문법 - nor
- nor or

            

            input:
            docs = actor_collection.find( { '$nor' : [ { '흥행지수' : { '$gte' : 10000 }}, {'흥행지수' : { '$lt' : 1000}}]}, { '배우이름' : 1, '흥행지수' : 1, '_id' : 0 })
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '성준', '흥행지수': 7646}
            {'배우이름': '김홍파', '흥행지수': 6893}
            {'배우이름': '송유현', '흥행지수': 6867}
            {'배우이름': '김보라', '흥행지수': 6117}
            {'배우이름': '고두심', '흥행지수': 5918}
            {'배우이름': '이창훈', '흥행지수': 5353}
            {'배우이름': '박소진', '흥행지수': 4744}
            {'배우이름': '지현우', '흥행지수': 4733}
            {'배우이름': '김재화', '흥행지수': 3864}
            {'배우이름': '전혜진', '흥행지수': 3551}
            {'배우이름': '서현우', '흥행지수': 3077}
            {'배우이름': '김중기', '흥행지수': 2367}
            {'배우이름': '강유석', '흥행지수': 2295}
            {'배우이름': '함은정', '흥행지수': 2191}
            {'배우이름': '윤다훈', '흥행지수': 1824}
            {'배우이름': '이은자', '흥행지수': 1590}
            {'배우이름': '이석형', '흥행지수': 1589}
            {'배우이름': '이선진', '흥행지수': 1520}
            {'배우이름': '김서형', '흥행지수': 1434}
            {'배우이름': '정난모', '흥행지수': 1272}
            {'배우이름': '김명국', '흥행지수': 1217}
            {'배우이름': '양정원', '흥행지수': 1184}
            {'배우이름': '김태형', '흥행지수': 1096}
            {'배우이름': '김현수', '흥행지수': 1076}


### find의 다양한 문법 - in, nin
- in : 들어가 있다.
- nin : not in 들어가 있지 않다.



            input:
            docs = actor_collection.find( { '흥행지수' : { '$in' : [5918,4733] }}, { '배우이름' : 1, '흥행지수' : 1, '_id' : 0 })
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '고두심', '흥행지수': 5918}
            {'배우이름': '지현우', '흥행지수': 4733}

            input:
            docs = actor_collection.find( { '흥행지수' : { '$nin' : [5918,4733] }}, { '배우이름' : 1, '흥행지수' : 1, '_id' : 0 }).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '조우진', '흥행지수': 255195}
            {'배우이름': '지창욱', '흥행지수': 204193}
            {'배우이름': '진경', '흥행지수': 153115}

            input:
            # 흥행지수가 5918,4773이 아니고, 10000이하인 데이터를 3개만 검색
            docs = actor_collection.find({ '$nor' : [{'흥행지수' : { '$in' : [5918,4733] } }, {'흥행지수' : { '$gt' : 10000}}]}, { '배우이름' : 1, '흥행지수' : 1, '_id' : 0} ).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '성준', '흥행지수': 7646}
            {'배우이름': '김홍파', '흥행지수': 6893}
            {'배우이름': '송유현', '흥행지수': 6867}

### find의 다양한 문법 - skip, limit
- skip(n) : 검색 결과 n 만큼 건너뜀
- limit(n) : 검색 결과 n 개만 표시


            input:
            docs = actor_collection.find({'흥행지수' : { '$gte' : 10000 } } ).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4d'), '배우이름': '조우진', '흥행지수': 255195, '출연영화': ['발신제한', '국가부도의 날'], '랭킹': '1', '직업': '배우', '생년월일': '1979-01-16', '성별': '남', '다른이름': '조신제'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4e'), '배우이름': '지창욱', '흥행지수': 204193, '출연영화': ['발신제한', '너의 이름은.', '조작된 도시'], '랭킹': '2', '직업': '배우', '생년월일': '1987-07-05', '성별': '남', '홈페이지': '\nhttps://twitter.com/jichangwook\nhttps://www.instagram.com/jichangwook/\n', '신장/체중': '180cm, 65kg', '학교': '단국대학교 공연영상학부', '특기': '노래, 유도, 수영', '소속사': '(주)글로리어스'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4f'), '배우이름': '진경', '흥행지수': 153115, '출연영화': ['발신제한'], '랭킹': '3', '직업': '배우', '생년월일': '1972-03-27', '성별': '여'}


            input:
            # 상위의 3개는 출력이 안된다.
            docs = actor_collection.find({'흥행지수' : { '$gte' : 10000 } } ).skip(3)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd50'), '배우이름': '이재인', '흥행지수': 102081, '출연영화': ['발신제한', '아이 캔 스피크'], '랭킹': '4', '직업': '배우', '생년월일': '2004-02-06', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd51'), '배우이름': '김지호', '흥행지수': 51038, '출연영화': ['발신제한'], '랭킹': '5', '직업': '배우', '생년월일': '1974-07-22', '성별': '여', '신장/체중': '167cm, 45kg', '학교': '서울여자대학교 영문학', '취미': '비디오 감상, 클래식 음반 모으기', '특기': '수영, 영어회화', '소속사': '이야기엔터테인먼트'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd52'), '배우이름': '진기주', '흥행지수': 41156, '출연영화': ['미드나이트'], '랭킹': '6', '직업': '모델', '생년월일': '1989-01-26', '성별': '여', '홈페이지': '\nhttps://www.instagram.com/jinkijoo/\n', '학교': '중앙대학교 컴퓨터공학부'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd53'), '배우이름': '위하준', '흥행지수': 34297, '출연영화': ['미드나이트'], '랭킹': '7', '직업': '배우', '생년월일': '1991-08-05', '성별': '남'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd54'), '배우이름': '박훈', '흥행지수': 27437, '출연영화': ['미드나이트'], '랭킹': '8', '직업': '배우', '성별': '남'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd55'), '배우이름': '길해연', '흥행지수': 20578, '출연영화': ['미드나이트'], '랭킹': '9', '직업': '배우', '생년월일': '1965-00-00', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd56'), '배우이름': '김혜윤', '흥행지수': 13719, '출연영화': ['미드나이트'], '랭킹': '10', '직업': '배우', '생년월일': '1996-11-10', '성별': '여', '홈페이지': '\nhttp://instagram.com/hye_yoon1110\n'}


            input:
            docs = actor_collection.find({ '흥행지수' : { '$gte' : 10000 } } ).skip(3).limit(3)
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd50'), '배우이름': '이재인', '흥행지수': 102081, '출연영화': ['발신제한', '아이 캔 스피크'], '랭킹': '4', '직업': '배우', '생년월일': '2004-02-06', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd51'), '배우이름': '김지호', '흥행지수': 51038, '출연영화': ['발신제한'], '랭킹': '5', '직업': '배우', '생년월일': '1974-07-22', '성별': '여', '신장/체중': '167cm, 45kg', '학교': '서울여자대학교 영문학', '취미': '비디오 감상, 클래식 음반 모으기', '특기': '수영, 영어회화', '소속사': '이야기엔터테인먼트'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd52'), '배우이름': '진기주', '흥행지수': 41156, '출연영화': ['미드나이트'], '랭킹': '6', '직업': '모델', '생년월일': '1989-01-26', '성별': '여', '홈페이지': '\nhttps://www.instagram.com/jinkijoo/\n', '학교': '중앙대학교 컴퓨터공학부'}


### find의 다양한 문법 - list 검색(all)


            input:
            docs = actor_collection.find({'출연영화': { '$all' : ['발신제한', '국가부도의 날']}})
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4d'), '배우이름': '조우진', '흥행지수': 255195, '출연영화': ['발신제한', '국가부도의 날'], '랭킹': '1', '직업': '배우', '생년월일': '1979-01-16', '성별': '남', '다른이름': '조신제'}

#### 리스트 index 번호로 검색하기

            input:
            docs = actor_collection.find({'출연영화.0': '발신제한'})
            for doc in docs:
                print(doc)
            
            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4d'), '배우이름': '조우진', '흥행지수': 255195, '출연영화': ['발신제한', '국가부도의 날'], '랭킹': '1', '직업': '배우', '생년월일': '1979-01-16', '성별': '남', '다른이름': '조신제'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4e'), '배우이름': '지창욱', '흥행지수': 204193, '출연영화': ['발신제한', '너의 이름은.', '조작된 도시'], '랭킹': '2', '직업': '배우', '생년월일': '1987-07-05', '성별': '남', '홈페이지': '\nhttps://twitter.com/jichangwook\nhttps://www.instagram.com/jichangwook/\n', '신장/체중': '180cm, 65kg', '학교': '단국대학교 공연영상학부', '특기': '노래, 유도, 수영', '소속사': '(주)글로리어스'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4f'), '배우이름': '진경', '흥행지수': 153115, '출연영화': ['발신제한'], '랭킹': '3', '직업': '배우', '생년월일': '1972-03-27', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd50'), '배우이름': '이재인', '흥행지수': 102081, '출연영화': ['발신제한', '아이 캔 스피크'], '랭킹': '4', '직업': '배우', '생년월일': '2004-02-06', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd51'), '배우이름': '김지호', '흥행지수': 51038, '출연영화': ['발신제한'], '랭킹': '5', '직업': '배우', '생년월일': '1974-07-22', '성별': '여', '신장/체중': '167cm, 45kg', '학교': '서울여자대학교 영문학', '취미': '비디오 감상, 클래식 음반 모으기', '특기': '수영, 영어회화', '소속사': '이야기엔터테인먼트'}

#### 리스트 사이즈로 검색하기

            input:
            docs = actor_collection.find( { '출연영화' : { '$size' : 3 } } )
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebe76f8753c67e46a0bd4e'), '배우이름': '지창욱', '흥행지수': 204193, '출연영화': ['발신제한', '너의 이름은.', '조작된 도시'], '랭킹': '2', '직업': '배우', '생년월일': '1987-07-05', '성별': '남', '홈페이지': '\nhttps://twitter.com/jichangwook\nhttps://www.instagram.com/jichangwook/\n', '신장/체중': '180cm, 65kg', '학교': '단국대학교 공연영상학부', '특기': '노래, 유도, 수영', '소속사': '(주)글로리어스'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd58'), '배우이름': '김홍파', '흥행지수': 6893, '출연영화': ['괴기맨숀', '배심원들', '국가부도의 날'], '랭킹': '12', '직업': '배우', '생년월일': '1962-01-05', '성별': '남'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd5f'), '배우이름': '김재화', '흥행지수': 3864, '출연영화': ['괴기맨숀', '액션히어로', '소공녀'], '랭킹': '19', '직업': '배우', '생년월일': '1980-00-00', '성별': '여'}
            {'_id': ObjectId('60ebe76f8753c67e46a0bd61'), '배우이름': '서현우', '흥행지수': 3077, '출연영화': ['괴기맨숀', '혼자 사는 사람들', '배심원들'], '랭킹': '21', '직업': '배우', '생년월일': '1983-11-20', '성별': '남'}

### find의 다양한 문법(elemMatch)
- 적어도 한 개 이상의 리스트 요소가 복수 개의 조건을 동시에 만족하는 경우


            conn = pymongo.MongoClient()
            actor_db = conn.cine21
            elematch_sample = actor_db.sample
            
            elematch_sample.insert_many([
                {'results': [82, 85, 88]},
                {'results': [75, 88, 91]}
            ])

            # 각각의 조건을 만족하는 값이 최소 1개 이상 있어야 출력이 된다.
            input:
            docs = elematch_sample.find( { 'results': {'$gte' : 90, '$lt':80 } }, { '_id' : 0} )
            for doc in docs:
                print(doc)

            output:
            {'results': [75, 88, 91]}


            input:
            docs = elematch_sample.find( { 'results' : {'$elemMatch' : {'$gte' : 85, '$lt' : 90 } } } )
            for doc in docs:
                print(doc)

            output:
            {'_id': ObjectId('60ebf2a98753c67e46a0bddb'), 'results': [82, 85, 88]}
            {'_id': ObjectId('60ebf2a98753c67e46a0bddc'), 'results': [75, 88, 91]}

#### 연습
- 직업이 가수인 배우 중, 흥행지수가 가장 높은 배우순으로 10명을 출력


            input:
            docs = actor_collection.find({'직업' : '가수'}, {'배우이름' : 1, '_id' : 0}).sort('흥행지수',pymongo.DESCENDING).limit(10)
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '박소진'}
            {'배우이름': '함은정'}
            {'배우이름': '양정원'}
            {'배우이름': '황인선'}
            {'배우이름': '흐른'}
            {'배우이름': '준호'}


- 국가 부도의 날에 출연한 배우를 흥행지수가 높은 순으로 10명 출력


            input:
            docs = actor_collection.find({'출연영화': '국가부도의 날'}, {'배우이름': 1, '_id' : 0}).sort('흥행지수',pymongo.DESCENDING).limit(10)
            for doc in docs:
                print(doc)

            output:
            {'배우이름': '조우진'}
            {'배우이름': '김홍파'}
            {'배우이름': '염혜란'}
            {'배우이름': '염혜란'}